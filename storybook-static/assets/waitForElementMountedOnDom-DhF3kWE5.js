import{r as l}from"./index-2yJIXLcc.js";import{i as C,a as m}from"./KcPageStory-dXwFLs0d.js";function x(n){const[t]=l.useState(n);return t}function w(n){const t=x(()=>({current:C(!1)}));l.useEffect(()=>{t.current||(n(),t.current=!0)},[])}const f=new Set;function y(n){const{scriptTags:t,componentOrHookName:s}=n;w(()=>{if(f.has(s)){e:{if(new URL(window.location.href).searchParams.get("viewMode")==="docs")break e;window.location.reload()}return}f.add(s)});let c=!1;return{insertScriptTags:l.useCallback(()=>{c||(t.forEach(e=>{{const r=document.getElementsByTagName("script");for(let i=0;i<r.length;i++){const a=r[i];if("textContent"in e){const d=typeof e.textContent=="function"?e.textContent():e.textContent;if(a.textContent===d)return;continue}if("src"in e){if(a.getAttribute("src")===e.src)return;continue}m(!1)}}const o=document.createElement("script");o.type=e.type,(()=>{if("textContent"in e){const r=typeof e.textContent=="function"?e.textContent():e.textContent;o.textContent=r;return}if("src"in e){o.src=e.src;return}m(!1)})(),document.head.appendChild(o)}),c=!0)},[])}}async function E(n){const{elementId:t}=n,s=()=>document.getElementById(t);if(s()===null){let u;const e=new Promise(r=>u=r),o=new MutationObserver(()=>{s()!==null&&(o.disconnect(),u())});o.observe(document.body,{childList:!0,subtree:!0}),await e}}export{y as u,E as w};
